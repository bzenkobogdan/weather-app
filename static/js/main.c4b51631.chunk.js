(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{66:function(e,t,a){e.exports=a(98)},75:function(e,t,a){},78:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),u=a(32),s=(a(75),a(76),a(39)),l=a(13),i=a.n(l),m=a(106),p=a(109),E=a(101),f=a(102),h=a(103),v=a(57),d=a(107),b=a(58),w=a(108),S=a(104),y=a(105);a(78);var O=function(e){return r.a.createElement("div",{className:"background",style:{background:(t=e.temp,t>=30?"#ff8c00":t<=-10?"#00ffff":"#fff700")}},e.children);var t},_=function(e){return!i.a.isEmpty(e.search)&&e.search.title||""},j=function(e){return!i.a.isEmpty(e.search)&&e.search.parent.title||""},g=function(e){return!i.a.isEmpty(e.search)&&e.search.latt_long||""},x=function(e){return!i.a.isEmpty(e.search)&&e.search.consolidated_weather||[]},C=function(e){return!i.a.isEmpty(e.search)&&e.search.consolidated_weather[0].the_temp||0},A=function(e){return!i.a.isEmpty(e.user)&&e.user.location||[]},k=function(e){return e.toFixed()},R=function(e){return"https://www.metaweather.com/static/img/weather/".concat(e,".svg")};var T=Object(u.b)((function(e){return{country:_(e),city:j(e),coords:g(e),results:x(e),temp:C(e),location:A(e)}}),{searchAction:function(e){var t=e.value;return function(e){return e({type:"SEARCH_REQUEST",data:{value:t}})}},searchLocationAction:function(e){var t=e.value;return function(e){return e({type:"USER_LOCATION_REQUEST",data:{value:t}})}},searchDetailsAction:function(e){var t=e.value;return function(e){return e({type:"SEARCH_DETAILS_REQUEST",data:{value:t}})}}})((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(0),l=Object(s.a)(u,2),_=l[0],j=l[1];e.temp!==_&&j(e.temp);var g=function(t){var a=t.coords;e.searchLocationAction({value:"".concat(a.latitude,",").concat(a.longitude)})};return Object(n.useEffect)((function(){var e;e=g,navigator.geolocation&&navigator.geolocation.getCurrentPosition(e)}),[]),r.a.createElement(O,{temp:e.temp},r.a.createElement(m.a,{show:i.a.isEmpty(e.results),onHide:function(){}},r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Title,null,"Choose your City!")),r.a.createElement(m.a.Body,null,!i.a.isEmpty(e.location)&&e.location.map((function(t){return r.a.createElement(p.a,{onClick:function(a){return function(t,a){t.preventDefault(),e.searchDetailsAction({value:a})}(a,t.woeid)},block:!0,key:t.woeid},t.title)}))||r.a.createElement(E.a,{animation:"border"})),r.a.createElement(m.a.Footer,null)),r.a.createElement(f.a,{className:"app"},r.a.createElement(h.a,null,r.a.createElement(v.a,null,r.a.createElement(d.a,{inline:!0,className:"search justify-content-md-center"},r.a.createElement(b.a,{type:"text",placeholder:"Search",value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(p.a,{onClick:function(t){t.preventDefault(),c.length>=3&&e.searchAction({value:c})},type:"submit",variant:"outline-success"},"Search")))),!i.a.isEmpty(e.results)&&r.a.createElement(h.a,null,r.a.createElement(v.a,null,r.a.createElement(w.a,{variant:"flush"},r.a.createElement(w.a.Item,{className:"results"},r.a.createElement(f.a,null,e.results.map((function(t){return r.a.createElement(h.a,{className:"results__item",key:t.id},r.a.createElement(v.a,{xl:1,lg:1},r.a.createElement(S.a,{src:R(t.weather_state_abbr),rounded:!0})),r.a.createElement(v.a,null,r.a.createElement(f.a,null,r.a.createElement(h.a,null,r.a.createElement(v.a,null,e.city,"/",e.country," ",t.weather_state_name)),r.a.createElement(h.a,null,r.a.createElement(v.a,null,r.a.createElement(y.a,{variant:"dark"},k(t.the_temp)," ","\xb0\u0421")," ","temperature from",k(t.min_temp)," ","to",k(t.max_temp)," ",k(t.wind_speed)," ","m/s. clouds 100 %,"," ",k(t.air_pressure)," ","hpa")),r.a.createElement(h.a,null,r.a.createElement(v.a,null,"Geo coords",e.coords)))))}))))))),!i.a.isEmpty(e.results)&&r.a.createElement(h.a,{className:"justify-content-md-center"},r.a.createElement(S.a,{className:"main-icon",src:R(e.results[0].weather_state_abbr)}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(16),I=a(61),L=a(62),N=a(64);var D=a(41),H={location:[]};var Q=Object(U.combineReducers)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"SEARCH_DETAILS_SUCCESS":return n;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"USER_LOCATION_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{location:n});default:return e}}}),B=Object(N.a)(),F=Object(U.applyMiddleware)(L.a,B);var W=a(10),J=a.n(W),M=a(40),q=a(11),G=a(26),P=a(27),$=a.n(P),z=J.a.mark(X),K=J.a.mark(Z),V=function(){var e=Object(G.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value,e.next=3,$.a.get("https://www.metaweather.com/api/location/".concat(a,"/"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function X(e){var t,a;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(q.b)(V,e.data);case 3:return t=n.sent,a=t.data,n.next=7,Object(q.c)({type:"SEARCH_DETAILS_SUCCESS",data:a});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(q.c)({type:"SEARCH_DETAILS_FAILURE",data:n.t0.message});case 13:case"end":return n.stop()}}),z,null,[[0,9]])}var Y=function(){var e=Object(G.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value,e.next=3,$.a.get("https://www.metaweather.com/api/location/search/?query=".concat(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Z(e){var t;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(q.b)(Y,e.data);case 3:return t=a.sent,a.next=6,Object(q.b)(X,{data:{value:t.data[0].woeid}});case 6:a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),K,null,[[0,8]])}var ee=[Object(q.d)("SEARCH_REQUEST",Z),Object(q.d)("SEARCH_DETAILS_REQUEST",X)],te=J.a.mark(ne),ae=function(){var e=Object(G.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value,e.next=3,$.a.get("https://www.metaweather.com/api/location/search/?lattlong=".concat(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ne(e){var t;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(q.b)(ae,e.data);case 3:return t=a.sent,a.next=6,Object(q.c)({type:"USER_LOCATION_SUCCESS",data:t.data});case 6:a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),te,null,[[0,8]])}var re=[Object(q.d)("USER_LOCATION_REQUEST",ne)],ce=J.a.mark(oe);function oe(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([].concat(Object(M.a)(ee),Object(M.a)(re)));case 2:case"end":return e.stop()}}),ce)}var ue,se=(ue={},Object(U.createStore)(Q,ue,Object(I.composeWithDevTools)(F)));B.run(oe),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:se},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.c4b51631.chunk.js.map